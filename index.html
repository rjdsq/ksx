<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>阚双雪 | 时光的礼物 - 致最爱的你</title>
    <meta name="description" content="写给阚双雪的深情告白，记录我们共同的回忆、成长与情感历程，传递真挚爱意与思念">
    <meta name="keywords" content="阚双雪, 时光礼物, 情感告白, 爱情回忆, 思念, 告白信, 爱情故事">
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <span class="nav-title">❄️</span>
            </div>
            <button class="hamburger" aria-label="菜单">
                <span class="hamburger-box">
                    <span class="hamburger-inner"></span>
                </span>
            </button>
            <div class="nav-menu">
                <a href="#" class="nav-link active">首页</a>
                <a href="#" class="nav-link">图库</a>
                <a href="#" class="nav-link">关于</a>
                <a href="#" class="nav-link">联系</a>
            </div>
        </div>
    </nav>

    <div class="main-content">
        <!-- 轮播图 -->
        <div class="carousel-container">
            <div class="carousel-wrapper">
                <div class="carousel-slides">
                    <!-- 轮播图片将通过JavaScript动态添加 -->
                </div>
            </div>
            <button class="carousel-button prev" aria-label="上一张">&lt;</button>
            <button class="carousel-button next" aria-label="下一张">&gt;</button>
            <div class="carousel-dots">
                <!-- 轮播指示点将通过JavaScript动态添加 -->
            </div>
        </div>

        <div class="tabs">
            <button class="tab-button active" data-tab="text1">随笔</button>
            <button class="tab-button" data-tab="text2">诗词</button>
            <button class="tab-button" data-tab="text3">故事</button>
            <button class="tab-button" data-tab="message">相册</button>
        </div>

        <div id="text1" class="tab-content active">
            <h2>随笔</h2>
            <p class="content">加载中...</p>
        </div>

        <div id="text2" class="tab-content">
            <h2>诗词</h2>
            <p class="content">加载中...</p>
        </div>

        <div id="text3" class="tab-content">
            <h2>故事</h2>
            <p class="content">加载中...</p>
        </div>

        <div id="message" class="tab-content"></div>

        <script src="js/tab-loader.js"></script>
        <script src="js/carousel.js"></script>
        <script src="js/tab-switcher.js"></script>
        <script>
            // 初始化代码
            document.addEventListener('DOMContentLoaded', function() {
                // 初始化选项卡切换功能
                setupTabSwitching();
                
                // 初始化内容加载
                const tabs = {
                    'text1': 'text/选项卡1.txt',
                    'text2': 'text/选项卡2.txt', 
                    'text3': 'text/选项卡3.txt'
                };
                for (const [id, file] of Object.entries(tabs)) {
                    loadTabContent(id, file);
                }
            });
        </script>
    </div>

    <!-- 音乐播放器 -->
    <audio id="music-player" loop>
        <source src="music/赞美愚者.mp3" type="audio/mpeg">
        您的浏览器不支持音频元素。
    </audio>
    
    <!-- 音乐播放按钮 -->
    <button id="music-button" class="music-button" title="播放/暂停音乐">
        <span class="icon icon-play"></span>
    </button>

    <script src="./api.js"></script>
    <script src="./script.js"></script>
    
    
    <!-- 简单的JS功能直接放在HTML中 -->
    <script>
        // 移动端菜单交互逻辑
document.addEventListener('DOMContentLoaded', function() {
    const hamburger = document.querySelector('.hamburger');
    const navMenu = document.querySelector('.nav-menu');
    
    if (hamburger && navMenu) {
        hamburger.addEventListener('click', function() {
            // 切换菜单显示状态
            navMenu.classList.toggle('active');
            // 切换汉堡菜单动画
            this.classList.toggle('active');
        });
        
        // 点击菜单外部关闭菜单
        document.addEventListener('click', function(event) {
            if (!navMenu.contains(event.target) && 
                !hamburger.contains(event.target) && 
                navMenu.classList.contains('active')) {
                navMenu.classList.remove('active');
                hamburger.classList.remove('active');
            }
        });
    }
});

        // 页面加载完成后执行
        document.addEventListener('DOMContentLoaded', function() {
            // 默认显示第一个选项卡
            document.querySelector('.tab-button').click();

            // 音乐播放控制
            const musicPlayer = document.getElementById('music-player');
            const musicButton = document.getElementById('music-button');
            const musicIcon = musicButton.querySelector('.icon');
            
            // 设置音乐循环播放
            musicPlayer.loop = true;
            
            musicButton.addEventListener('click', function() {
                if (musicPlayer.paused) {
                    // 播放音乐
                    musicPlayer.play().then(() => {
                        musicIcon.classList.remove('icon-play');
                        musicIcon.classList.add('icon-pause');
                        musicButton.classList.add('playing');
                    }).catch(error => {
                        console.error('播放失败:', error);
                    });
                } else {
                    // 暂停音乐
                    musicPlayer.pause();
                    musicIcon.classList.remove('icon-pause');
                    musicIcon.classList.add('icon-play');
                    musicButton.classList.remove('playing');
                }
            });

            // 音乐结束时重置按钮状态
            musicPlayer.addEventListener('ended', function() {
                musicIcon.classList.remove('icon-pause');
                musicIcon.classList.add('icon-play');
                musicButton.classList.remove('playing');
            });
        });
    </script>
</body>
</html>